# ??????????? ??????? ??????? ? ??????

## ? **???????? ??????!**

??? ????? ???? ?????????? ??? ????????????? ??????????? ??????? ??????? `AppConsts.VectorSize = 768` ?????? hardcoded ???????? `1024`.

## ?? **???????????? ?????:**

### 1. **ImgMzxTests/AppVitOptimizedTests.cs**
- ? `Performance_SIMDDistanceCalculation()` - ??????? ? `const int vectorSize = 1024` ?? `var vectorSize = ImgMzx.AppConsts.VectorSize`
- ? ???????? ????? ??????????? ??????? ??????? ? ???????

### 2. **ImgMzxTests/AppVitPoolDiagnosticTests.cs**
- ? `ObjectPool_DetailedDiagnostic()` - ??? `Assert.AreEqual(1024, vector.Length)` ???????? ?? `Assert.AreEqual(ImgMzx.AppConsts.VectorSize, vector.Length)`
- ? `ObjectPool_MemoryBenefit_Comparison()` - `new float[1024]` ??????? ?? `new float[ImgMzx.AppConsts.VectorSize]`
- ? `ObjectPool_ThreadSafety_StressTest()` - ??????????? ???????????
- ? ?????????? ????????? ? ?????????

### 3. **ImgMzx/AppVitBenchmark.cs**
- ? `BenchmarkDistanceCalculation()` - ???????? ?? ????????? ??????? ? `1024` ?? `AppConsts.VectorSize`
- ? `PrintPerformanceReport()` - ???????? ????? ??????????? ??????? ???????

## ?? **?????? ??? ?????:**

1. **???????????? ??????**: DinoV2-base ?????? ????????????? ?????? ??????? ???????? 768, ? ?? 1024
2. **???????????? ??????**: ?????? ????? ????????? ???????? ?????? ???????? ????????
3. **Maintainability**: ????????????? ????????? `AppConsts.VectorSize` ????????? ????? ???????? ?????? ? ????? ?????
4. **????????????**: ??????????????? ?????? ???? "Expected:<768>. Actual:<1024>"

## ?? **?????????????? ?????????:**

- ???????? ????? ??????? ??????? ? ??????????????? ?????????
- ???????? ?????????? ??????
- ?????????? ???????? ? ??????????
- ????????????? ????????????? `AppConsts.VectorSize` ?? ???? ??????

## ? **?????????:**

?????? ??? ?????:
- ?????????? ?????????? ?????? ??????? **768**
- ???????? ??????? ??? ?????? `Assert.AreEqual`
- ?????????? ?????????? ??????????????? ??????????
- ????????????? ???????? ??????????? DinoV2-base ??????

**?????? ??????? ???????!** ??